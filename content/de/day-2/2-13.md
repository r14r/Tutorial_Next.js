## Einheit 13 — 5 Mini-Projekte

### Mini-Projekt 1: Universeller Prompt-Playground

**Aufgabe:** Baue eine Streamlit-App, die verschiedene Prompt-Parameter testen lässt.

**Lösung:**

```python
import streamlit as st
from lib.helper_ollama import ollama

st.title("Universeller Prompt-Playground")
prompt = st.text_area("Prompt eingeben", height=150)
temperature = st.slider("Temperature (Kreativität)", 0.0, 2.0, 0.7, 0.1)
max_tokens = st.slider("Max Tokens", 50, 500, 200)

if st.button("Generieren") and prompt:
    result = ollama.generate(prompt, temperature=temperature, max_tokens=max_tokens)
    st.write("**Antwort:**")
    st.write(result)
```

### Mini-Projekt 2: Rollenspieler-Chatbot

**Aufgabe:** Erstelle einen Chatbot, der verschiedene Rollen einnehmen kann.

**Lösung:**

```python
import streamlit as st
from lib.helper_ollama import ollama

st.title("Rollenspieler-Chatbot")
rolle = st.selectbox("Wähle eine Rolle:", 
                    ["Lehrer", "Comedian", "Wissenschaftler", "Pirat"])

if 'chat' not in st.session_state:
    st.session_state.chat = []

user_input = st.text_input("Du:")
if st.button("Senden") and user_input:
    system_prompt = f"Du bist ein {rolle}. Antworte im entsprechenden Stil."
    messages = [
        {"role": "system", "content": system_prompt},
        {"role": "user", "content": user_input}
    ]
    antwort = ollama.chat(messages)
    st.session_state.chat.append((rolle, antwort))

for sprecher, text in st.session_state.chat:
    st.write(f"**{sprecher}:** {text}")
```

### Mini-Projekt 3: Few-Shot Learning Demo

**Aufgabe:** Demonstriere Few-Shot Learning mit Beispielen für Textklassifikation.

**Lösung:**

```python
import streamlit as st
from lib.helper_ollama import ollama

st.title("Few-Shot Learning Demo")
text = st.text_input("Text zur Klassifikation:")

if st.button("Klassifizieren") and text:
    few_shot_prompt = f"""
Klassifiziere die folgenden Texte als POSITIV oder NEGATIV:

"Das Essen war fantastisch!" -> POSITIV
"Der Service war schrecklich." -> NEGATIV  
"Ich liebe dieses Produkt!" -> POSITIV
"Das war eine Enttäuschung." -> NEGATIV

"{text}" -> """
    
    result = ollama.generate(few_shot_prompt)
    st.write("**Klassifikation:**", result)
```

### Mini-Projekt 4: Chain-of-Thought Problemlöser

**Aufgabe:** Nutze Chain-of-Thought für komplexe Problemlösung.

**Lösung:**

```python
import streamlit as st
from lib.helper_ollama import ollama

st.title("Chain-of-Thought Problemlöser")
problem = st.text_area("Beschreibe ein Problem:")

if st.button("Lösen") and problem:
    cot_prompt = f"""
Löse das folgende Problem Schritt für Schritt:

Problem: {problem}

Denke laut und erkläre jeden Schritt:
1. Verstehe das Problem
2. Identifiziere die Schlüsselinformationen  
3. Entwickle einen Lösungsansatz
4. Führe die Lösung durch
5. Prüfe das Ergebnis

Lösung:"""
    
    result = ollama.generate(cot_prompt)
    st.write("**Schritt-für-Schritt Lösung:**")
    st.write(result)
```

### Mini-Projekt 5: JSON-Datenextraktor

**Aufgabe:** Extrahiere strukturierte Daten aus Fließtext im JSON-Format.

**Lösung:**

```python
import streamlit as st
import json
from lib.helper_ollama import ollama

st.title("JSON-Datenextraktor")
text = st.text_area("Text eingeben (z.B. Produktbeschreibung):")

if st.button("Daten extrahieren") and text:
    json_prompt = f"""
Extrahiere die wichtigsten Informationen aus dem folgenden Text und gib sie im JSON-Format zurück:

Text: {text}

Gib die Antwort nur als valides JSON zurück mit folgender Struktur:
{{
    "hauptthema": "...",
    "wichtige_punkte": ["...", "..."],
    "stimmung": "positiv/neutral/negativ",
    "sprache": "..."
}}

JSON:"""
    
    result = ollama.generate(json_prompt)
    st.write("**Extrahierte Daten:**")
    st.code(result, language='json')
    
    try:
        parsed = json.loads(result)
        st.write("**Strukturiert:**")
        st.json(parsed)
    except:
        st.warning("JSON konnte nicht geparst werden.")
```
