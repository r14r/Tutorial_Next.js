## Einheit 3 — Rollen im Prompting & Prompt Engineering: Grundlagen

### Beschreibung & Grundlagen

Prompt Engineering ist die gezielte Gestaltung von Eingaben (Prompts), um von LLMs optimale Ergebnisse zu erhalten. Ein zentrales Konzept dabei sind **Rollen**: Moderne LLM-APIs wie OpenAI oder Ollama nutzen Nachrichten mit unterschiedlichen Rollen, um Kontexte und Aufgaben klar zu trennen. Die wichtigsten Rollen sind:

- **system:** Definiert die Identität und das Verhalten des Modells (z. B. „Du bist ein hilfreicher Tutor.“)
- **user:** Enthält die eigentliche Anfrage des Nutzers.
- **assistant:** (Optional) Vorherige Antworten des Modells, um Konversationen fortzuführen.
- **tool/function:** (In erweiterten Frameworks) Für spezielle Funktionsaufrufe.

Durch die Kombination dieser Rollen kann man Konversationen strukturieren, den Kontext steuern und die Qualität der Antworten verbessern. Unterschiedliche Formulierungen und Rollen führen zu unterschiedlichen Ergebnissen. Prompt Engineering umfasst auch das Testen, Vergleichen und Optimieren von Prompts.

**Warum sind Rollen wichtig?**

- Sie helfen, die Kommunikation mit dem Modell zu strukturieren.
- Sie ermöglichen es, Kontexte und Aufgaben zu trennen.
- Sie machen Konversationen nachvollziehbar und reproduzierbar.

### 5 Beispiele für Rollen im Prompting (mit Python-Code)

1. **System-Rolle festlegen:**

    **System**: "Du bist ein hilfsbereiter Mathematiklehrer."

    **User**: "Erkläre den Satz des Pythagoras."

    ```python
    # Datei: rollen1_system.py
    from lib.helper_ollama import ollama
    prompt = "System: Du bist ein hilfsbereiter Mathematiklehrer.\nUser: Erkläre den Satz des Pythagoras."
    result = ollama.generate(prompt)
    print(result)
    ```

2. **User-Rolle mit Kontext:**

    **System**: "Du bist ein Reiseexperte."

    **User**: "Empfiehl mir drei Reiseziele in Japan."

    ```python
    # Datei: rollen2_user.py
    from lib.helper_ollama import ollama
    prompt = "System: Du bist ein Reiseexperte.\nUser: Empfiehl mir drei Reiseziele in Japan."
    result = ollama.generate(prompt)
    print(result)
    ```

3. **Assistant-Rolle für Konversation:**

    **System**: "Du bist ein Chatbot."

    **User**: "Was ist KI?"

    **Assistant**: "Künstliche Intelligenz ist..."

    **User**: "Gib ein Beispiel für KI im Alltag."

    ```python
    # Datei: rollen3_assistant.py
    from lib.helper_ollama import ollama
    prompt = "System: Du bist ein Chatbot.\nUser: Was ist KI?\nAssistant: Künstliche Intelligenz ist...\nUser: Gib ein Beispiel für KI im Alltag."
    result = ollama.generate(prompt)
    print(result)
    ```

4. **Vergleich von Prompts:**
    - Prompt 1: "Fasse den Text kurz zusammen."
    - Prompt 2: "Erstelle eine ausführliche Zusammenfassung in 5 Sätzen."

    ```python
    # Datei: rollen4_vergleich.py
    from lib.helper_ollama import ollama
    text = "Künstliche Intelligenz ist ein Teilgebiet der Informatik ..."
    prompt1 = f"Fasse den Text kurz zusammen.\nText: {text}"
    prompt2 = f"Erstelle eine ausführliche Zusammenfassung in 5 Sätzen.\nText: {text}"
    result1 = ollama.generate(prompt1)
    result2 = ollama.generate(prompt2)
    print("Kurz:", result1)
    print("Lang:", result2)
    ```

5. **Tool/Function-Rolle (fortgeschritten):**

    **System**: "Du kannst Rechenaufgaben lösen."

    **User**: "Berechne 23 + 42."

    **Tool/Function**: "65"

    ```python
    # Datei: rollen5_tool.py
    from lib.helper_ollama import ollama
    prompt = "System: Du kannst Rechenaufgaben lösen.\nUser: Berechne 23 + 42.\nTool/Function: 65"
    result = ollama.generate(prompt)
    print(result)
    ```

### 10 Fragen & Lösungen zu Rollen und Prompt Engineering

1. **Was ist Prompt Engineering?**

*Lösung:* Die gezielte Gestaltung von Prompts, um optimale Ergebnisse von LLMs zu erhalten.
2. **Welche Rolle definiert das Verhalten des Modells?**

*Lösung:* Die System-Rolle.
3. **Wofür steht die User-Rolle?**

*Lösung:* Für die Anfrage des Nutzers.
4. **Wie kann man Konversationen mit LLMs strukturieren?**

*Lösung:* Durch die Nutzung verschiedener Rollen (system, user, assistant).
5. **Was ist der Vorteil der Assistant-Rolle?**

*Lösung:* Sie ermöglicht fortlaufende Konversationen und Kontext.
6. **Wie kann man die Qualität der Antworten verbessern?**

*Lösung:* Durch klare Rollenverteilung und präzise Prompts.
7. **Was ist ein Beispiel für einen Prompt mit System-Rolle?**

*Lösung:* „Du bist ein freundlicher Lehrer.“
8. **Warum ist die Trennung von Kontext und Aufgabe wichtig?**

*Lösung:* Um Missverständnisse zu vermeiden und gezielte Antworten zu erhalten.
9. **Wie kann man Prompts testen und vergleichen?**

*Lösung:* Durch verschiedene Formulierungen und Analyse der Ergebnisse.
10. **Was ist ein typischer Fehler beim Prompt Engineering?**

*Lösung:* Unklare Rollen oder Aufgabenstellung, fehlender Kontext.

---

