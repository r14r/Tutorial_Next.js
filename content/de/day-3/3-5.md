## Einheit 5 — Named Entity Recognition (NER)

### Umfangreiche Beschreibung & Grundlagen

Named Entity Recognition (NER) ist die Aufgabe, Eigennamen wie Personen, Orte und Organisationen in Texten automatisch zu erkennen. LLMs sind dafür besonders geeignet, da sie viele Beispiele aus ihrem Training kennen und Kontext verstehen können.

**Warum ist NER wichtig?**

- Sie hilft, strukturierte Informationen aus unstrukturiertem Text zu gewinnen.
- Sie ist Grundlage für Suchmaschinen, Wissensdatenbanken, Chatbots und viele KI-Anwendungen.
- Sie ermöglicht die Verknüpfung von Textdaten mit externen Datenquellen.

**Herausforderungen:**

- Unterschiedliche Schreibweisen und Abkürzungen
- Mehrdeutigkeit (z. B. "Amazon" als Firma oder Fluss)
- Verschachtelte oder zusammengesetzte Entities

### 5 Beispiele für Named Entity Recognition (mit Python-Code)

1. **Einfache Entities:**

    Text:

    ```text
    "Barack Obama sprach 2015 in Berlin."
    ```

    Ergebnis:

    ```text
    Personen: ["Barack Obama"], Orte: ["Berlin"], Organisationen: []
    ```

    ```python
    # Datei: ner1_einfach.py
    from lib.helper_ollama import ollama

    text = "Barack Obama sprach 2015 in Berlin."
    prompt = f"Finde Named Entities (Personen, Orte, Organisationen) als JSON: {text}"
    result = ollama.generate(prompt)
    print("Entities:", result)
    ```

2. **Organisationen erkennen:**

    Text:

    ```text
    "Elon Musk gründete SpaceX in Kalifornien."
    ```

    Ergebnis:

    ```text
    Personen: ["Elon Musk"], Orte: ["Kalifornien"], Organisationen: ["SpaceX"]
    ```

    ```python
    # Datei: ner2_organisation.py
    from lib.helper_ollama import ollama

    text = "Elon Musk gründete SpaceX in Kalifornien."
    prompt = f"Finde Named Entities (Personen, Orte, Organisationen) als JSON: {text}"
    result = ollama.generate(prompt)
    print("Entities:", result)
    ```

3. **Mehrere Sätze:**

    Text:

    ```text
    "Angela Merkel traf Emmanuel Macron in Paris. Microsoft investierte in OpenAI."
    ```

    Ergebnis:

    ```text
    Personen: ["Angela Merkel", "Emmanuel Macron"], Orte: ["Paris"], Organisationen: ["Microsoft", "OpenAI"]
    ```

    ```python
    # Datei: ner3_mehrere_saetze.py
    from lib.helper_ollama import ollama

    text = "Angela Merkel traf Emmanuel Macron in Paris. Microsoft investierte in OpenAI."
    prompt = f"Finde Named Entities (Personen, Orte, Organisationen) als JSON: {text}"
    result = ollama.generate(prompt)
    print("Entities:", result)
    ```

4. **Mehrdeutige Entities:**

    Text:

    ```text
    "Amazon expandiert nach Brasilien."
    ```

    Ergebnis:

    ```text
    Organisationen: ["Amazon"], Orte: ["Brasilien"]
    ```

    ```python
    # Datei: ner4_mehrdeutig.py
    from lib.helper_ollama import ollama

    text = "Amazon expandiert nach Brasilien."
    prompt = f"Finde Named Entities (Personen, Orte, Organisationen) als JSON: {text}"
    result = ollama.generate(prompt)
    print("Entities:", result)
    ```

5. **JSON-Ausgabe:**

    Text:

    ```text
    "Jeff Bezos gründete Amazon in Seattle."
    
    ```

    Ergebnis:

    ```text
    {"Personen": ["Jeff Bezos"], "Orte": ["Seattle"], "Organisationen": ["Amazon"]}
    ```

    ```python
    # Datei: ner5_json.py
    from lib.helper_ollama import ollama

    text = "Jeff Bezos gründete Amazon in Seattle."
    prompt = f"Extrahiere Named Entities im JSON-Format: {{'Personen': [], 'Orte': [], 'Organisationen': []}} Text: {text}"
    result = ollama.generate(prompt)
    print("Entities JSON:", result)
    ```

### 10 Fragen & Lösungen zu Named Entity Recognition

1. **Was ist Named Entity Recognition?**
    - *Lösung:* Das automatische Erkennen von Eigennamen (Personen, Orte, Organisationen) in Texten.
2. **Nenne drei Typen von Entities.**
    - *Lösung:* Personen, Orte, Organisationen.
3. **Warum ist NER für KI-Anwendungen wichtig?**
    - *Lösung:* Sie liefert strukturierte Informationen für Suche, Datenbanken, Chatbots etc.
4. **Was ist eine Herausforderung bei NER?**
    - *Lösung:* Mehrdeutigkeit, unterschiedliche Schreibweisen, verschachtelte Entities.
5. **Wie kann man die Ausgabe strukturieren?**
    - *Lösung:* Als Listen oder im JSON-Format.
6. **Wie kann man NER mit LLMs testen?**
    - *Lösung:* Durch gezielte Prompts und Vergleich der Ergebnisse.
7. **Was ist ein Beispiel für eine Organisation als Entity?**
    - *Lösung:* "Microsoft", "Amazon", "SpaceX"
8. **Wie kann man Entities aus mehreren Sätzen extrahieren?**
    - *Lösung:* Text als Ganzes analysieren lassen, ggf. Listen ausgeben.
9. **Was ist ein Nachteil automatischer NER?**
    - *Lösung:* Fehler bei unbekannten Namen, Abkürzungen oder Kontext.
10. **Wie kann man die Qualität der NER-Ergebnisse verbessern?**
    - *Lösung:* Durch bessere Prompts, Nachbearbeitung oder Kombination mit anderen Tools.

---

