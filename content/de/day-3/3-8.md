## Einheit 8 — Erweiterte Streamlit-App: Analyse-Dashboard

### Umfangreiche Beschreibung & Grundlagen

Ein Analyse-Dashboard ist eine interaktive App, die verschiedene Textanalyse-Funktionen in einer übersichtlichen Oberfläche vereint. Mit Streamlit kann man schnell und einfach ein Dashboard bauen, das Sentimentanalyse, Keyword-Extraktion, Named Entity Recognition und Zusammenfassung kombiniert. Nutzer können Texte eingeben, hochladen oder aus einer Liste auswählen und erhalten sofort eine umfassende Analyse.

**Warum sind Dashboards nützlich?**

- Sie machen komplexe Analysen für alle zugänglich.
- Sie ermöglichen schnelle Auswertungen ohne Programmierkenntnisse.
- Sie sind ideal für Präsentationen, Monitoring und Prototyping.

**Herausforderungen:**

- Übersichtliche Darstellung der Ergebnisse
- Performance bei großen Textmengen
- Flexibilität für verschiedene Analysearten

### 5 Beispiele für Analyse-Dashboards (mit Python-Code)

1. **Einfaches Textfeld:**

    Nutzer gibt einen Text ein, Dashboard zeigt alle Analysen an.

    ```python
    # Datei: dashboard1_textfeld.py
    import streamlit as st
    from lib.helper_ollama import ollama

    st.title("Textanalyse Dashboard")
    text = st.text_area("Text eingeben")
    if st.button("Analysieren") and text:
        prompt = f"Analysiere den Text und gib das Ergebnis als JSON zurück: Stimmung, Keywords, Entities, Zusammenfassung. Text: {text}"
        result = ollama.generate(prompt)
        st.write("Analyse:", result)
    ```

2. **Datei-Upload:**

    Nutzer lädt ein PDF oder eine Textdatei hoch, Dashboard analysiert den gesamten Inhalt.

    ```python
    # Datei: dashboard2_upload.py
    import streamlit as st
    from lib.helper_ollama import ollama

    st.title("Datei-Upload Analyse")
    file = st.file_uploader("Textdatei hochladen", type=["txt"])
    if file:
        text = file.read().decode()
        if st.button("Analysieren"):
            prompt = f"Analysiere den Text und gib das Ergebnis als JSON zurück: Stimmung, Keywords, Entities, Zusammenfassung. Text: {text}"
            result = ollama.generate(prompt)
            st.write("Analyse:", result)
    ```

3. **Mehrere Texte vergleichen:**

    Dashboard zeigt Analyse-Ergebnisse für mehrere Texte nebeneinander.

    ```python
    # Datei: dashboard3_vergleich.py
    import streamlit as st
    from lib.helper_ollama import ollama

    st.title("Vergleich mehrerer Texte")
    texte = st.text_area("Texte (jeweils durch Zeilenumbruch trennen)")
    if st.button("Analysieren") and texte:
        text_list = [t for t in texte.split("\n") if t.strip()]
        cols = st.columns(len(text_list))
        for i, text in enumerate(text_list):
            prompt = f"Analysiere den Text und gib das Ergebnis als JSON zurück: Stimmung, Keywords, Entities, Zusammenfassung. Text: {text}"
            result = ollama.generate(prompt)
            with cols[i]:
                st.write(f"**Text {i+1}:**", text)
                st.write(result)
    ```

4. **Ergebnisse als Tabelle:**
    - Alle Analysen werden in einer Tabelle oder als JSON angezeigt.
    - **Python-Code (Streamlit + pandas):**

    ```python
    # Datei: dashboard4_tabelle.py
    import streamlit as st
    import pandas as pd
    from lib.helper_ollama import ollama

    st.title("Analyse als Tabelle")
    texte = st.text_area("Texte (je Zeile ein Text)")
    if st.button("Analysieren") and texte:
        text_list = [t for t in texte.split("\n") if t.strip()]
        daten = []
        for text in text_list:
            prompt = f"Analysiere den Text und gib das Ergebnis als JSON zurück: Stimmung, Keywords, Entities, Zusammenfassung. Text: {text}"
            result = ollama.generate(prompt)
            daten.append({"Text": text, "Analyse": result})
        df = pd.DataFrame(daten)
        st.dataframe(df)
    ```

5. **Export-Funktion:**

    Ergebnisse können als CSV oder PDF exportiert werden.

    ```python
    # Datei: dashboard5_export.py
    import streamlit as st
    import pandas as pd
    from lib.helper_ollama import ollama

    st.title("Analyse mit Export")
    texte = st.text_area("Texte (je Zeile ein Text)")
    if st.button("Analysieren") and texte:
        text_list = [t for t in texte.split("\n") if t.strip()]
        daten = []
        for text in text_list:
            prompt = f"Analysiere den Text und gib das Ergebnis als JSON zurück: Stimmung, Keywords, Entities, Zusammenfassung. Text: {text}"
            result = ollama.generate(prompt)
            daten.append({"Text": text, "Analyse": result})
        df = pd.DataFrame(daten)
        st.dataframe(df)
        csv = df.to_csv(index=False).encode('utf-8')
        st.download_button("CSV herunterladen", csv, "analysen.csv", "text/csv")
    ```

### 10 Fragen & Lösungen zu Analyse-Dashboards

1. **Was ist ein Analyse-Dashboard?**
    - *Lösung:* Eine App, die verschiedene Analysefunktionen in einer Oberfläche vereint.
2. **Wie kann man ein Dashboard mit Streamlit bauen?**
    - *Lösung:* Mit Python und der Streamlit-Bibliothek.
3. **Welche Analysefunktionen kann ein Dashboard enthalten?**
    - *Lösung:* Sentiment, Keywords, NER, Zusammenfassung, u. v. m.
4. **Was ist ein Vorteil von Dashboards?**
    - *Lösung:* Sie machen Analysen für alle zugänglich und einfach bedienbar.
5. **Wie kann man mehrere Texte vergleichen?**
    - *Lösung:* Durch Anzeige der Ergebnisse nebeneinander oder in einer Tabelle.
6. **Wie kann man Ergebnisse exportieren?**
    - *Lösung:* Als CSV, PDF oder durch Kopieren der Daten.
7. **Was ist eine Herausforderung bei großen Textmengen?**
    - *Lösung:* Performance und Übersichtlichkeit.
8. **Wie kann man die Nutzerfreundlichkeit erhöhen?**
    - *Lösung:* Klare Struktur, einfache Bedienung, gute Visualisierung.
9. **Wie kann man das Dashboard erweitern?**
    - *Lösung:* Weitere Analysefunktionen, Filter, Visualisierungen hinzufügen.
10. **Was ist ein typischer Fehler bei Dashboards?**
    - *Lösung:* Unübersichtliche Darstellung, fehlende Export- oder Vergleichsfunktionen.

---

