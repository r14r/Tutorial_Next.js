## Einheit 3 — KI-Dashboards mit Streamlit

### Beispiele

#### Beispiel 1 — Balkendiagramm

```python
import matplotlib.pyplot as plt

fig, ax = plt.subplots()
df["Sales"].plot(kind="bar", ax=ax)
st.pyplot(fig)
```

#### Beispiel 2 — Histogramm

```python
fig, ax = plt.subplots()
df["Age"].hist(ax=ax, bins=10)
st.pyplot(fig)
```

#### Beispiel 3 — LLM-Kommentar

```python
stats = df.describe().to_string()
prompt = f"Erkläre die wichtigsten Trends:\n{stats}"
```

#### Beispiel 1 — Balkendiagramm (Streamlit)

```python
# Datei: einheit43_balkendiagramm.py
import streamlit as st
import pandas as pd
import matplotlib.pyplot as plt

df = pd.read_csv("sales.csv")
fig, ax = plt.subplots()
df["Sales"].plot(kind="bar", ax=ax)
st.pyplot(fig)
```

#### Beispiel 2 — Histogramm (Streamlit)

```python
# Datei: einheit43_histogramm.py
import streamlit as st
import pandas as pd
import matplotlib.pyplot as plt

df = pd.read_csv("sales.csv")
fig, ax = plt.subplots()
df["Age"].hist(ax=ax, bins=10)
st.pyplot(fig)
```

#### Beispiel 3 — LLM-Kommentar (Ollama SDK)

```python
# Datei: einheit43_llm_kommentar.py
import pandas as pd
from lib.helper_ollama import ollama

df = pd.read_csv("sales.csv")
stats = df.describe().to_string()
prompt = f"Erkläre die wichtigsten Trends:\n{stats}"
result = ollama.generate(prompt)
print(result)
```

#### Beispiel 4 — Vergleich zweier Gruppen

```python
city1, city2 = "Berlin", "Hamburg"
df1 = df[df["City"] == city1]
df2 = df[df["City"] == city2]
prompt = f"Vergleiche {city1} und {city2}:\n{df1.describe().to_string()}\n{df2.describe().to_string()}"
```

### Übungen

- Erstelle ein Dashboard mit Altersverteilung (Histogramm) und LLM-Analyse.
- Baue ein Dropdown, um zwischen Umsatzdiagramm und Altersdiagramm zu wechseln.
- Füge eine Funktion hinzu: „Vergleiche Männer vs. Frauen im Einkommen“.

### Lösungen

```python
# Histogramm
fig, ax = plt.subplots()
df["Age"].hist(ax=ax)
st.pyplot(fig)

# Auswahl
chart = st.selectbox("Diagramm wählen", ["Umsatz", "Alter"])
if chart == "Umsatz":
    df["Sales"].plot(kind="bar")
else:
    df["Age"].hist()

# Geschlechtervergleich
male = df[df["Gender"] == "Male"]
female = df[df["Gender"] == "Female"]
prompt = f"Vergleiche Einkommen von Männern und Frauen:\n{male.describe()}\n{female.describe()}"
```

---

